---
title: "Minsa-medidas"
output: 
  flexdashboard::flex_dashboard:
    orientation: columns
    vertical_layout: fill
---

```{r setup, include=FALSE}
library(flexdashboard)
library(ggplot2)
library(plotly)



cdc=readRDS("falles_casos.RDS")
cdcPos=aggregate(data=cdc,pos~semana,sum)
cdcFalle=aggregate(data=cdc,falles_cov~semana,sum)
cdcPosFalle=merge(cdcPos,cdcFalle)
cdcPosFalle$semana=as.ordered(cdcPosFalle$semana)
base=ggplot(data=cdcPosFalle) + theme_minimal() + theme(axis.title.y = element_blank()) +xlab("Año-Semana")


```





Column {data-width=350}
-----------------------------------------------------------------------

### Casos Confirmados

```{r, echo=FALSE}

casos=base+geom_line(aes(x=semana,
                        y=pos,group=1))
casos=casos+theme(axis.text.x = element_text(angle = 80,size = 4,vjust = 0.5,hjust = 0.5))
ggplotly(casos)
```

### Fallecidos Covid

```{r}

falles=base+geom_line(aes(x=semana,
                        y=falles_cov,group=1))
falles=falles+theme(axis.text.x = element_text(angle = 80,size = 4,vjust = 0.5,hjust = 0.5))

ggplotly(falles)
```



Column {data-width=650}
-----------------------------------------------------------------------

### Comparación Casos versus Fallecidos
```{r}
both=base+geom_line(aes(x=semana,
                        y=falles_cov,group=1))
both=both+geom_line(aes(x=semana,
                        y=pos,group=1),color='red')
both=both+theme(axis.text.x = element_text(angle = 80,size = 6,vjust = 0.5,hjust = 0.5))
both=both + scale_y_log10()

ggplotly(both)

```


